<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>nestjs-grpc</title><meta name="description" content="Documentation for nestjs-grpc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">nestjs-grpc</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>nestjs-grpc</h1></div><div class="tsd-panel tsd-typography"><a id="md:nestjs-grpc" class="tsd-anchor"></a><h1 class="tsd-anchor-link">nestjs-grpc<a href="#md:nestjs-grpc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><div align="center">
<p><a href="https://badge.fury.io/js/nestjs-grpc" target="_blank" class="external"><img src="https://badge.fury.io/js/nestjs-grpc.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/MIT" target="_blank" class="external"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://www.typescriptlang.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&amp;logoColor=white" alt="TypeScript"></a>
<a href="https://nestjs.com/" target="_blank" class="external"><img src="https://img.shields.io/badge/NestJS-E0234E?logo=nestjs&amp;logoColor=white" alt="NestJS"></a>
<a href="https://github.com/hmake98/nestjs-grpc" target="_blank" class="external"><img src="https://img.shields.io/badge/coverage-99.87%25-brightgreen" alt="Test Coverage"></a>
<a href="https://nodejs.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen" alt="Node.js Version"></a></p>
<p><strong>Production-ready NestJS package for type-safe gRPC microservices with
controller-based architecture</strong></p>
<p><a href="#md:-quick-start">Quick Start</a> • <a href="#md:-documentation">Documentation</a> •
<a href="#md:-examples">Examples</a> • <a href="#md:-api-reference">API Reference</a> •
<a href="#md:-changelog">Changelog</a></p>
</div>
<a id="md:✨-features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">✨ Features<a href="#md:✨-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>🎯 <strong>Controller-Based Architecture</strong> - Familiar NestJS controller pattern for
gRPC handlers</li>
<li>🛡️ <strong>Type Safety</strong> - Full TypeScript support with auto-generated types from
proto files</li>
<li>🔄 <strong>Streaming Support</strong> - All gRPC streaming patterns (unary, server, client,
bidirectional)</li>
<li>⚡ <strong>High Performance</strong> - Optimized for production with connection pooling and
caching</li>
<li>🛠️ <strong>CLI Tools</strong> - Generate TypeScript definitions from proto files with
<code>nestjs-grpc generate</code></li>
<li>🔒 <strong>Security</strong> - Built-in TLS support and flexible authentication options</li>
<li>📊 <strong>Advanced Logging</strong> - Configurable logging with multiple levels and
performance metrics</li>
<li>🔌 <strong>Complete DI Support</strong> - Inject any NestJS service into gRPC controllers
and clients</li>
<li>🔍 <strong>Error Handling</strong> - gRPC exception classes with proper status codes and
custom filter support</li>
<li>🔁 <strong>Retry Logic</strong> - Built-in retry mechanisms with exponential backoff</li>
<li>📡 <strong>Client Management</strong> - Automatic connection pooling with cleanup and
caching</li>
</ul>
<a id="md:🚀-quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🚀 Quick Start<a href="#md:🚀-quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span>
</code><button type="button">Copy</button></pre>

<a id="md:1-create-proto-file" class="tsd-anchor"></a><h3 class="tsd-anchor-link">1. Create Proto File<a href="#md:1-create-proto-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="protobuf">// protos/auth.proto
syntax = "proto3";
package auth;

service AuthService {
  rpc ValidateToken(ValidateTokenRequest) returns (ValidateTokenResponse);
  rpc Login(LoginRequest) returns (LoginResponse);
  rpc StreamUsers(StreamUsersRequest) returns (stream User);
}

message ValidateTokenRequest {
  string token = 1;
}

message ValidateTokenResponse {
  bool valid = 1;
  User user = 2;
}

message LoginRequest {
  string email = 1;
  string password = 2;
}

message LoginResponse {
  string token = 1;
  User user = 2;
}

message StreamUsersRequest {
  int32 limit = 1;
}

message User {
  string id = 1;
  string email = 2;
  string name = 3;
}
</code><button type="button">Copy</button></pre>

<a id="md:2-generate-typescript-types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">2. Generate TypeScript Types<a href="#md:2-generate-typescript-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Generate types from proto files</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-4">-p</span><span class="hl-1"> </span><span class="hl-2">./protos</span><span class="hl-1"> </span><span class="hl-4">-o</span><span class="hl-1"> </span><span class="hl-2">./src/generated</span><br/><br/><span class="hl-3"># Or with options</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-5">\</span><br/><span class="hl-1">  </span><span class="hl-4">--proto</span><span class="hl-1"> </span><span class="hl-2">&quot;./protos/**/*.proto&quot;</span><span class="hl-1"> </span><span class="hl-5">\</span><br/><span class="hl-1">  </span><span class="hl-4">--output</span><span class="hl-1"> </span><span class="hl-2">&quot;./src/generated&quot;</span><span class="hl-1"> </span><span class="hl-5">\</span><br/><span class="hl-1">  </span><span class="hl-4">--classes</span><span class="hl-1"> </span><span class="hl-5">\</span><br/><span class="hl-1">  </span><span class="hl-4">--verbose</span>
</code><button type="button">Copy</button></pre>

<a id="md:3-provider-setup-grpc-server" class="tsd-anchor"></a><h3 class="tsd-anchor-link">3. Provider Setup (gRPC Server)<a href="#md:3-provider-setup-grpc-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// app.module.ts</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Module</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">AuthController</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.controller&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">AuthService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/auth.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">enabled:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">logPerformance:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">controllers:</span><span class="hl-1"> [</span><span class="hl-7">AuthController</span><span class="hl-1">], </span><span class="hl-3">// gRPC controllers go here</span><br/><span class="hl-1">    </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><span class="hl-7">AuthService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:4-create-grpc-controller" class="tsd-anchor"></a><h3 class="tsd-anchor-link">4. Create gRPC Controller<a href="#md:4-create-grpc-controller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// auth.controller.ts</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Injectable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Observable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">GrpcController</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">GrpcMethod</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">GrpcStream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">GrpcException</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">ValidateTokenRequest</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">ValidateTokenResponse</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">LoginRequest</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">LoginResponse</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">StreamUsersRequest</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">User</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./generated/auth&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AuthController</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">authService</span><span class="hl-1">: </span><span class="hl-8">AuthService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">ValidateTokenRequest</span><span class="hl-1">,</span><br/><span class="hl-1">    ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">isValid</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">authService</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">token</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">user</span><span class="hl-1"> = </span><span class="hl-7">isValid</span><br/><span class="hl-1">                ? </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">authService</span><span class="hl-1">.</span><span class="hl-0">getUserFromToken</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">token</span><span class="hl-1">)</span><br/><span class="hl-1">                : </span><span class="hl-4">null</span><span class="hl-1">;</span><br/><br/><span class="hl-1">            </span><span class="hl-6">return</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">valid:</span><span class="hl-1"> </span><span class="hl-7">isValid</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">user</span><span class="hl-1">,</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">        } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Token validation failed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;Login&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">login</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">LoginRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">LoginResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">authService</span><span class="hl-1">.</span><span class="hl-0">validateUser</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">password</span><span class="hl-1">,</span><br/><span class="hl-1">        );</span><br/><br/><span class="hl-1">        </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">user</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unauthenticated</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid credentials&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">token</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">authService</span><span class="hl-1">.</span><span class="hl-0">generateToken</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">token</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    @</span><span class="hl-0">GrpcStream</span><span class="hl-1">(</span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">streamUsers</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">StreamUsersRequest</span><span class="hl-1">): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Observable</span><span class="hl-1">(</span><span class="hl-7">observer</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">authService</span><br/><span class="hl-1">                .</span><span class="hl-0">findAllPaginated</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">limit</span><span class="hl-1">)</span><br/><span class="hl-1">                .</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-7">users</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-7">users</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">({</span><br/><span class="hl-1">                            </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">                            </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1">,</span><br/><span class="hl-1">                            </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">                        });</span><br/><span class="hl-1">                    });</span><br/><span class="hl-1">                    </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><span class="hl-1">                })</span><br/><span class="hl-1">                .</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><br/><span class="hl-1">                        </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to stream users&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                    );</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:5-consumer-setup-grpc-client" class="tsd-anchor"></a><h3 class="tsd-anchor-link">5. Consumer Setup (gRPC Client)<a href="#md:5-consumer-setup-grpc-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// post.module.ts - Service that consumes AuthService</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Module</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">PostController</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./post.controller&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">PostService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./post.service&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcAuthService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./grpc-auth.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">// Setup own gRPC server</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/post.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;post&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0:50052&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><br/><span class="hl-1">        </span><span class="hl-3">// Setup gRPC clients for external services</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forConsumer</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/auth.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">10000</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">retryDelay:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">controllers:</span><span class="hl-1"> [</span><span class="hl-7">PostController</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><span class="hl-7">PostService</span><span class="hl-1">, </span><span class="hl-7">GrpcAuthService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">PostModule</span><span class="hl-1"> {}</span><br/><br/><span class="hl-3">// grpc-auth.service.ts</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Injectable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcClientService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">GrpcAuthService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">boolean</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">result</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-7">call</span><span class="hl-1">&lt;</span><br/><span class="hl-1">                </span><span class="hl-7">ValidateTokenRequest</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">ValidateTokenResponse</span><br/><span class="hl-1">            &gt;(</span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">, { </span><span class="hl-7">token</span><span class="hl-1"> });</span><br/><span class="hl-1">            </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-7">valid</span><span class="hl-1">;</span><br/><span class="hl-1">        } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Token validation failed:&#39;</span><span class="hl-1">, </span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:📖-documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">📖 Documentation<a href="#md:📖-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:module-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Module Configuration<a href="#md:module-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:provider-mode-server" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Provider Mode (Server)<a href="#md:provider-mode-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>For services that provide gRPC endpoints:</p>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Module</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0:50051&#39;</span><span class="hl-1">, </span><span class="hl-3">// Listen on all interfaces</span><br/><span class="hl-1">            </span><span class="hl-7">secure:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">maxSendMessageSize:</span><span class="hl-1"> </span><span class="hl-10">4</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1">, </span><span class="hl-3">// 4MB</span><br/><span class="hl-1">            </span><span class="hl-7">maxReceiveMessageSize:</span><span class="hl-1"> </span><span class="hl-10">4</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1">, </span><span class="hl-3">// 4MB</span><br/><span class="hl-1">            </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">enabled:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">logPerformance:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">controllers:</span><span class="hl-1"> [</span><span class="hl-7">ServiceController</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ServiceModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:consumer-mode-client" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Consumer Mode (Client)<a href="#md:consumer-mode-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>For services that call other gRPC services:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forConsumer</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ExternalService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/external.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;external&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;external-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">secure:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">30000</span><span class="hl-1">, </span><span class="hl-3">// 30 seconds</span><br/><span class="hl-1">            </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">retryDelay:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1">, </span><span class="hl-3">// 1 second</span><br/><span class="hl-1">            </span><span class="hl-7">channelOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-2">&#39;grpc.keepalive_time_ms&#39;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-10">120000</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-2">&#39;grpc.keepalive_timeout_ms&#39;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-10">20000</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><span class="hl-7">ExternalServiceClient</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ConsumerModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:async-configuration" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Async Configuration<a href="#md:async-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProviderAsync</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><span class="hl-7">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">inject:</span><span class="hl-1"> [</span><span class="hl-7">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-0">useFactory</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">configService</span><span class="hl-1">: </span><span class="hl-8">ConfigService</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">                </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PROTO_PATH&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PACKAGE&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_URL&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-7">secure:</span><span class="hl-1"> </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_SECURE&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-7">level:</span><br/><span class="hl-1">                        </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;NODE_ENV&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;development&#39;</span><br/><span class="hl-1">                            ? </span><span class="hl-2">&#39;debug&#39;</span><br/><span class="hl-1">                            : </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">logPerformance:</span><br/><span class="hl-1">                        </span><span class="hl-7">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOG_PERFORMANCE&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:cli-code-generation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">CLI Code Generation<a href="#md:cli-code-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>nestjs-grpc</code> CLI tool helps generate TypeScript definitions from your proto
files.</p>
<a id="md:basic-usage" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Basic Usage<a href="#md:basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-3"># Generate types with default settings</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><br/><br/><span class="hl-3"># Specify proto files and output directory</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-4">--proto</span><span class="hl-1"> </span><span class="hl-2">&quot;./protos/**/*.proto&quot;</span><span class="hl-1"> </span><span class="hl-4">--output</span><span class="hl-1"> </span><span class="hl-2">&quot;./src/generated&quot;</span><br/><br/><span class="hl-3"># Generate classes instead of interfaces</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-4">--classes</span><br/><br/><span class="hl-3"># Verbose output for debugging</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-4">--verbose</span><br/><br/><span class="hl-3"># Filter by package name</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-4">--package-filter</span><span class="hl-1"> </span><span class="hl-2">&quot;auth&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:cli-options" class="tsd-anchor"></a><h4 class="tsd-anchor-link">CLI Options<a href="#md:cli-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p, --proto &lt;pattern&gt;</code></td>
<td>Path to proto file, directory, or glob pattern</td>
<td><code>&quot;./protos/**/*.proto&quot;</code></td>
</tr>
<tr>
<td><code>-o, --output &lt;dir&gt;</code></td>
<td>Output directory for generated files</td>
<td><code>&quot;./src/generated&quot;</code></td>
</tr>
<tr>
<td><code>-w, --watch</code></td>
<td>Watch mode for file changes</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>-c, --classes</code></td>
<td>Generate classes instead of interfaces</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--no-comments</code></td>
<td>Disable comments in generated files</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>--no-client-interfaces</code></td>
<td>Do not generate client interfaces</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>-f, --package-filter &lt;package&gt;</code></td>
<td>Filter by package name</td>
<td>-</td>
</tr>
<tr>
<td><code>-r, --recursive</code></td>
<td>Recursively search directories for .proto files</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>-v, --verbose</code></td>
<td>Enable verbose logging</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>-s, --silent</code></td>
<td>Disable all logging except errors</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
<a id="md:decorators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Decorators<a href="#md:decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:grpccontroller" class="tsd-anchor"></a><h4 class="tsd-anchor-link">@GrpcController<a href="#md:grpccontroller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Marks a class as a gRPC controller:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Methods here</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// With options</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom.package&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcmethod" class="tsd-anchor"></a><h4 class="tsd-anchor-link">@GrpcMethod<a href="#md:grpcmethod" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Marks a method as a gRPC unary handler:</p>
<pre><code class="typescript"><span class="hl-3">// Basic usage with method name inferred from function name</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">()</span><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">ValidateTokenRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Implementation</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Explicit method name mapping</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">)</span><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">ValidateTokenRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Implementation</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Method with custom timeout</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">methodName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ProcessPayment&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">60000</span><span class="hl-1">, </span><span class="hl-3">// 60 seconds timeout</span><br/><span class="hl-1">})</span><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">PaymentRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">PaymentResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Implementation</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Method with custom timeout (shorthand)</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">({ </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">30000</span><span class="hl-1"> })</span><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">handleLongOperation</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">RequestType</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">ResponseType</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Implementation with 30 second timeout</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcstream" class="tsd-anchor"></a><h4 class="tsd-anchor-link">@GrpcStream<a href="#md:grpcstream" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Marks a method as a gRPC streaming handler:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcStream</span><span class="hl-1">(</span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">)</span><br/><span class="hl-0">streamUsers</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">StreamUsersRequest</span><span class="hl-1">): </span><span class="hl-7">Observable</span><span class="hl-1">&lt;</span><span class="hl-7">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-0">Observable</span><span class="hl-1">(</span><span class="hl-7">observer</span><span class="hl-1"> =&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Streaming implementation</span><br/><span class="hl-1">        this.userService.findAllPaginated(request.limit)</span><br/><span class="hl-1">            .then(</span><span class="hl-7">users</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">users</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">            .catch(</span><span class="hl-7">error</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">observer</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to stream users&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcpayload" class="tsd-anchor"></a><h4 class="tsd-anchor-link">@GrpcPayload<a href="#md:grpcpayload" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Extracts the request payload from gRPC context:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;UserService&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">UserController</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;CreateUser&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">createUser</span><span class="hl-1">(</span><br/><span class="hl-1">        @</span><span class="hl-0">GrpcPayload</span><span class="hl-1">() </span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">CreateUserRequest</span><span class="hl-1">,</span><br/><span class="hl-1">        @</span><span class="hl-0">GrpcPayload</span><span class="hl-1">(</span><span class="hl-2">&#39;metadata&#39;</span><span class="hl-1">) </span><span class="hl-7">metadata</span><span class="hl-1">?: </span><span class="hl-8">any</span><span class="hl-1">,</span><br/><span class="hl-1">    ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">CreateUserResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Access request data and metadata</span><br/><span class="hl-1">        </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Request metadata:&#39;</span><span class="hl-1">, </span><span class="hl-7">metadata</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">userService</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcservice" class="tsd-anchor"></a><h4 class="tsd-anchor-link">@GrpcService<a href="#md:grpcservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Marks a class as a gRPC service client (alternative to using
GrpcModule.forConsumer):</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcService</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">clientOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">30000</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">})</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AuthServiceClient</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">, { </span><span class="hl-7">token</span><span class="hl-1"> });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:client-service" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Client Service<a href="#md:client-service" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>GrpcClientService</code> provides methods for all gRPC call types:</p>
<a id="md:unary-calls" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Unary Calls<a href="#md:unary-calls" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AuthService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-7">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-7">call</span><span class="hl-1">&lt;</span><br/><span class="hl-1">            </span><span class="hl-7">ValidateTokenRequest</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">ValidateTokenResponse</span><br/><span class="hl-1">        &gt;(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { </span><span class="hl-7">token</span><span class="hl-1"> },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">5000</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">retryDelay:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:server-streaming" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Server Streaming<a href="#md:server-streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">UserService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-0">getUserStream</span><span class="hl-1">(</span><span class="hl-7">limit</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">serverStream</span><span class="hl-1">&lt;</span><span class="hl-8">StreamUsersRequest</span><span class="hl-1">, </span><span class="hl-8">User</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;UserService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { </span><span class="hl-7">limit</span><span class="hl-1"> },</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:client-streaming" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Client Streaming<a href="#md:client-streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">FileService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-7">fileChunks</span><span class="hl-1">: </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">FileChunk</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">    ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">UploadResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">clientStream</span><span class="hl-1">&lt;</span><span class="hl-8">FileChunk</span><span class="hl-1">, </span><span class="hl-8">UploadResponse</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;FileService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;UploadFile&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">fileChunks</span><span class="hl-1">,</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:bidirectional-streaming" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Bidirectional Streaming<a href="#md:bidirectional-streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ChatService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-0">startChat</span><span class="hl-1">(</span><span class="hl-7">messageStream</span><span class="hl-1">: </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">ChatMessage</span><span class="hl-1">&gt;): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">ChatMessage</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">bidiStream</span><span class="hl-1">&lt;</span><span class="hl-8">ChatMessage</span><span class="hl-1">, </span><span class="hl-8">ChatMessage</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;ChatService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;StartChat&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">messageStream</span><span class="hl-1">,</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:client-options" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Client Options<a href="#md:client-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AdvancedService</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">makeCallWithOptions</span><span class="hl-1">(): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ResponseType</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">&lt;</span><span class="hl-8">RequestType</span><span class="hl-1">, </span><span class="hl-8">ResponseType</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;MethodName&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { </span><span class="hl-7">data:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-3">// Connection options</span><br/><span class="hl-1">                </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">secure:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><br/><span class="hl-1">                </span><span class="hl-3">// Timeout and retry options</span><br/><span class="hl-1">                </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">30000</span><span class="hl-1">, </span><span class="hl-3">// 30 seconds</span><br/><span class="hl-1">                </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-3">// Retry up to 3 times</span><br/><span class="hl-1">                </span><span class="hl-7">retryDelay:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1">, </span><span class="hl-3">// 1 second delay between retries</span><br/><br/><span class="hl-1">                </span><span class="hl-3">// Channel options for advanced gRPC configuration</span><br/><span class="hl-1">                </span><span class="hl-7">channelOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-2">&#39;grpc.keepalive_time_ms&#39;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-10">120000</span><span class="hl-1">, </span><span class="hl-3">// 2 minutes</span><br/><span class="hl-1">                    </span><span class="hl-2">&#39;grpc.keepalive_timeout_ms&#39;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-10">20000</span><span class="hl-1">, </span><span class="hl-3">// 20 seconds</span><br/><span class="hl-1">                    </span><span class="hl-2">&#39;grpc.max_concurrent_streams&#39;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-10">100</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:🛡️-error-handling" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🛡️ Error Handling<a href="#md:🛡️-error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><blockquote>
<p><strong>Note</strong>: This package no longer automatically registers a global exception
filter. Your application's own exception filters will handle errors without
interference. Use <code>GrpcException</code> for throwing gRPC-specific exceptions.</p>
</blockquote>
<a id="md:using-grpcexception" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using GrpcException<a href="#md:using-grpcexception" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcException</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;UserService&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">UserController</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;GetUser&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">getUser</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">GetUserRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">GetUserResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">userService</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">user</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">// Standard gRPC exceptions</span><br/><span class="hl-1">            </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">notFound</span><span class="hl-1">(</span><span class="hl-2">&#39;User not found&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">                </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">hasPermission</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">requesterId</span><span class="hl-1">, </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">permissionDenied</span><span class="hl-1">(</span><span class="hl-2">&#39;Access denied&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> { </span><span class="hl-7">user</span><span class="hl-1"> };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;CreateUser&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">createUser</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">CreateUserRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">CreateUserResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">validateEmail</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">invalidArgument</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid email format&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">existingUser</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">userService</span><span class="hl-1">.</span><span class="hl-0">findByEmail</span><span class="hl-1">(</span><br/><span class="hl-1">                </span><span class="hl-7">request</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1">,</span><br/><span class="hl-1">            );</span><br/><span class="hl-1">            </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">existingUser</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">alreadyExists</span><span class="hl-1">(</span><span class="hl-2">&#39;User already exists&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">userService</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-6">return</span><span class="hl-1"> { </span><span class="hl-7">user</span><span class="hl-1"> };</span><br/><span class="hl-1">        } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1"> </span><span class="hl-4">instanceof</span><span class="hl-1"> </span><span class="hl-8">GrpcException</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">error</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-3">// Convert unknown errors to internal gRPC errors</span><br/><span class="hl-1">            </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;User creation failed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:available-exception-types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Available Exception Types<a href="#md:available-exception-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// Standard gRPC status codes</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(); </span><span class="hl-3">// 0</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">cancelled</span><span class="hl-1">(); </span><span class="hl-3">// 1</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unknown</span><span class="hl-1">(); </span><span class="hl-3">// 2</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">invalidArgument</span><span class="hl-1">(); </span><span class="hl-3">// 3</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">deadlineExceeded</span><span class="hl-1">(); </span><span class="hl-3">// 4</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">notFound</span><span class="hl-1">(); </span><span class="hl-3">// 5</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">alreadyExists</span><span class="hl-1">(); </span><span class="hl-3">// 6</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">permissionDenied</span><span class="hl-1">(); </span><span class="hl-3">// 7</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">resourceExhausted</span><span class="hl-1">(); </span><span class="hl-3">// 8</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">failedPrecondition</span><span class="hl-1">(); </span><span class="hl-3">// 9</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">aborted</span><span class="hl-1">(); </span><span class="hl-3">// 10</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">outOfRange</span><span class="hl-1">(); </span><span class="hl-3">// 11</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unimplemented</span><span class="hl-1">(); </span><span class="hl-3">// 12</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(); </span><span class="hl-3">// 13</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unavailable</span><span class="hl-1">(); </span><span class="hl-3">// 14</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">dataLoss</span><span class="hl-1">(); </span><span class="hl-3">// 15</span><br/><span class="hl-7">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unauthenticated</span><span class="hl-1">(); </span><span class="hl-3">// 16</span>
</code><button type="button">Copy</button></pre>

<a id="md:custom-exception-filters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Custom Exception Filters<a href="#md:custom-exception-filters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Since this package no longer registers a global exception filter, you can use
your own exception filters to handle errors:</p>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">ArgumentsHost</span><span class="hl-1">, </span><span class="hl-7">Catch</span><span class="hl-1">, </span><span class="hl-7">RpcExceptionFilter</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Observable</span><span class="hl-1">, </span><span class="hl-7">throwError</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcException</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Catch</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">CustomGrpcExceptionFilter</span><span class="hl-1"> </span><span class="hl-4">implements</span><span class="hl-1"> </span><span class="hl-8">RpcExceptionFilter</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-7">exception</span><span class="hl-1">: </span><span class="hl-8">any</span><span class="hl-1">, </span><span class="hl-7">host</span><span class="hl-1">: </span><span class="hl-8">ArgumentsHost</span><span class="hl-1">): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Handle GrpcException instances</span><br/><span class="hl-1">        </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">exception</span><span class="hl-1"> </span><span class="hl-4">instanceof</span><span class="hl-1"> </span><span class="hl-8">GrpcException</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-0">throwError</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">                </span><span class="hl-7">code:</span><span class="hl-1"> </span><span class="hl-7">exception</span><span class="hl-1">.</span><span class="hl-0">getCode</span><span class="hl-1">(),</span><br/><span class="hl-1">                </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-7">exception</span><span class="hl-1">.</span><span class="hl-7">message</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-7">details:</span><span class="hl-1"> </span><span class="hl-7">exception</span><span class="hl-1">.</span><span class="hl-0">getDetails</span><span class="hl-1">(),</span><br/><span class="hl-1">            }));</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-3">// Handle other exceptions</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-0">throwError</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">            </span><span class="hl-7">code:</span><span class="hl-1"> </span><span class="hl-10">13</span><span class="hl-1">, </span><span class="hl-3">// INTERNAL</span><br/><span class="hl-1">            </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Internal server error&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">details:</span><span class="hl-1"> { </span><span class="hl-7">originalError:</span><span class="hl-1"> </span><span class="hl-7">exception</span><span class="hl-1">.</span><span class="hl-7">message</span><span class="hl-1"> },</span><br/><span class="hl-1">        }));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Register your custom filter in your module:</p>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Module</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">APP_FILTER</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/core&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">CustomGrpcExceptionFilter</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./custom-grpc-exception.filter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-7">provide:</span><span class="hl-1"> </span><span class="hl-9">APP_FILTER</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">useClass:</span><span class="hl-1"> </span><span class="hl-7">CustomGrpcExceptionFilter</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:🧪-testing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🧪 Testing<a href="#md:🧪-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:testing-grpc-controllers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Testing gRPC Controllers<a href="#md:testing-grpc-controllers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Test</span><span class="hl-1">, </span><span class="hl-7">TestingModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/testing&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">AuthController</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.controller&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">AuthService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthController&#39;</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-7">controller</span><span class="hl-1">: </span><span class="hl-8">AuthController</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-7">authService</span><span class="hl-1">: </span><span class="hl-8">AuthService</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">beforeEach</span><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">module</span><span class="hl-1">: </span><span class="hl-8">TestingModule</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">Test</span><span class="hl-1">.</span><span class="hl-0">createTestingModule</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">                </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">                    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./test/protos/auth.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                }),</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">            </span><span class="hl-7">controllers:</span><span class="hl-1"> [</span><span class="hl-7">AuthController</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-7">provide:</span><span class="hl-1"> </span><span class="hl-7">AuthService</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">useValue:</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-7">validateToken:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">                        </span><span class="hl-7">generateToken:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">                        </span><span class="hl-7">getUserFromToken:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">                    },</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }).</span><span class="hl-0">compile</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-7">controller</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">AuthController</span><span class="hl-1">&gt;(</span><span class="hl-7">AuthController</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">authService</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">AuthService</span><span class="hl-1">&gt;(</span><span class="hl-7">AuthService</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should validate token successfully&#39;</span><span class="hl-1">, </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">mockUser</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Test User&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">authService</span><span class="hl-1">, </span><span class="hl-2">&#39;validateToken&#39;</span><span class="hl-1">).</span><span class="hl-0">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">authService</span><span class="hl-1">, </span><span class="hl-2">&#39;getUserFromToken&#39;</span><span class="hl-1">).</span><span class="hl-0">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-7">mockUser</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">result</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">controller</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">({ </span><span class="hl-7">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;valid-token&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-0">toEqual</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">valid:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">user:</span><span class="hl-1"> </span><span class="hl-7">mockUser</span><span class="hl-1">,</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should handle token validation errors&#39;</span><span class="hl-1">, </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">authService</span><span class="hl-1">, </span><span class="hl-2">&#39;validateToken&#39;</span><span class="hl-1">).</span><span class="hl-0">mockRejectedValue</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid token&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        );</span><br/><br/><span class="hl-1">        </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">expect</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-7">controller</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">({ </span><span class="hl-7">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;invalid-token&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">        ).</span><span class="hl-7">rejects</span><span class="hl-1">.</span><span class="hl-0">toThrow</span><span class="hl-1">(</span><span class="hl-2">&#39;Token validation failed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:testing-grpc-clients" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Testing gRPC Clients<a href="#md:testing-grpc-clients" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Test</span><span class="hl-1">, </span><span class="hl-7">TestingModule</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/testing&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcClientService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GrpcAuthService</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./grpc-auth.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&#39;GrpcAuthService&#39;</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-7">service</span><span class="hl-1">: </span><span class="hl-8">GrpcAuthService</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-7">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">beforeEach</span><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">mockGrpcClient</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-7">call:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-7">serverStream:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-7">clientStream:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-7">bidiStream:</span><span class="hl-1"> </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">        };</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">module</span><span class="hl-1">: </span><span class="hl-8">TestingModule</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">Test</span><span class="hl-1">.</span><span class="hl-0">createTestingModule</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><br/><span class="hl-1">                </span><span class="hl-7">GrpcAuthService</span><span class="hl-1">,</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-7">provide:</span><span class="hl-1"> </span><span class="hl-7">GrpcClientService</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">useValue:</span><span class="hl-1"> </span><span class="hl-7">mockGrpcClient</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">        }).</span><span class="hl-0">compile</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-7">service</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">GrpcAuthService</span><span class="hl-1">&gt;(</span><span class="hl-7">GrpcAuthService</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">grpcClient</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">GrpcClientService</span><span class="hl-1">&gt;(</span><span class="hl-7">GrpcClientService</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should validate token successfully&#39;</span><span class="hl-1">, </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">mockResponse</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-7">valid:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">user:</span><span class="hl-1"> { </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">, </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@example.com&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">grpcClient</span><span class="hl-1">, </span><span class="hl-2">&#39;call&#39;</span><span class="hl-1">).</span><span class="hl-0">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-7">mockResponse</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">result</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">service</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-2">&#39;test-token&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-7">call</span><span class="hl-1">).</span><span class="hl-0">toHaveBeenCalledWith</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { </span><span class="hl-7">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;test-token&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-0">toBe</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should handle gRPC call failures&#39;</span><span class="hl-1">, </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">grpcClient</span><span class="hl-1">, </span><span class="hl-2">&#39;call&#39;</span><span class="hl-1">).</span><span class="hl-0">mockRejectedValue</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Connection failed&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        );</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">result</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">service</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-2">&#39;test-token&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-0">toBe</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:testing-streaming-methods" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Testing Streaming Methods<a href="#md:testing-streaming-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Subject</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&#39;Streaming Methods&#39;</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should handle server streaming&#39;</span><span class="hl-1">, </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">mockStream</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Subject</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">        </span><span class="hl-7">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-7">grpcClient</span><span class="hl-1">, </span><span class="hl-2">&#39;serverStream&#39;</span><span class="hl-1">).</span><span class="hl-0">mockReturnValue</span><span class="hl-1">(</span><span class="hl-7">mockStream</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">result$</span><span class="hl-1"> = </span><span class="hl-7">service</span><span class="hl-1">.</span><span class="hl-0">getUserStream</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-7">serverStream</span><span class="hl-1">).</span><span class="hl-0">toHaveBeenCalledWith</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;UserService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { </span><span class="hl-7">limit:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> },</span><br/><span class="hl-1">        );</span><br/><br/><span class="hl-1">        </span><span class="hl-3">// Test stream emissions</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">emitted</span><span class="hl-1">: </span><span class="hl-8">User</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-7">result$</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">emitted</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">));</span><br/><br/><span class="hl-1">        </span><span class="hl-7">mockStream</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">({ </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">, </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John&#39;</span><span class="hl-1">, </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;john@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">        </span><span class="hl-7">mockStream</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">({ </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;2&#39;</span><span class="hl-1">, </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Jane&#39;</span><span class="hl-1">, </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;jane@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">        </span><span class="hl-7">mockStream</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-7">emitted</span><span class="hl-1">).</span><span class="hl-0">toHaveLength</span><span class="hl-1">(</span><span class="hl-10">2</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:📊-logging-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">📊 Logging Configuration<a href="#md:📊-logging-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:basic-logging-setup" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Basic Logging Setup<a href="#md:basic-logging-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">enabled:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">, </span><span class="hl-3">// debug, verbose, log, warn, error</span><br/><span class="hl-1">        </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-3">// Log all errors</span><br/><span class="hl-1">        </span><span class="hl-7">logPerformance:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-3">// Log performance metrics</span><br/><span class="hl-1">        </span><span class="hl-7">logDetails:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-3">// Log request/response details</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:environment-based-logging" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment-Based Logging<a href="#md:environment-based-logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProviderAsync</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">inject:</span><span class="hl-1"> [</span><span class="hl-7">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">useFactory</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">config</span><span class="hl-1">: </span><span class="hl-8">ConfigService</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">        </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PROTO_PATH&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PACKAGE&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_URL&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">enabled:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOGGING_ENABLED&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;NODE_ENV&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;development&#39;</span><span class="hl-1"> ? </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> : </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">logPerformance:</span><br/><span class="hl-1">                </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOG_PERFORMANCE&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;false&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">logDetails:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;NODE_ENV&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;development&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:🔧-configuration-options" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🔧 Configuration Options<a href="#md:🔧-configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:complete-configuration-interface" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Complete Configuration Interface<a href="#md:complete-configuration-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:provider-mode-server-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Provider Mode (Server)<a href="#md:provider-mode-server-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-8">GrpcOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Required</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Path to proto file, directory, or glob pattern</span><br/><span class="hl-1">    </span><span class="hl-7">package</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Proto package name</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Connection</span><br/><span class="hl-1">    </span><span class="hl-7">url</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// gRPC server URL (default: &#39;localhost:50051&#39;)</span><br/><span class="hl-1">    </span><span class="hl-7">secure</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Use TLS (default: false)</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// TLS Configuration</span><br/><span class="hl-1">    </span><span class="hl-7">rootCerts</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Root certificates for TLS</span><br/><span class="hl-1">    </span><span class="hl-7">privateKey</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Private key for TLS</span><br/><span class="hl-1">    </span><span class="hl-7">certChain</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Certificate chain for TLS</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Message Limits</span><br/><span class="hl-1">    </span><span class="hl-7">maxSendMessageSize</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-3">// Max send message size (default: 4MB)</span><br/><span class="hl-1">    </span><span class="hl-7">maxReceiveMessageSize</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-3">// Max receive message size (default: 4MB)</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Proto Loader Options</span><br/><span class="hl-1">    </span><span class="hl-7">loaderOptions</span><span class="hl-1">?: </span><span class="hl-8">Options</span><span class="hl-1">; </span><span class="hl-3">// Additional options for protobufjs loader</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Logging</span><br/><span class="hl-1">    </span><span class="hl-7">logging</span><span class="hl-1">?: {</span><br/><span class="hl-1">        </span><span class="hl-7">enabled</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Enable/disable logging (default: true)</span><br/><span class="hl-1">        </span><span class="hl-7">level</span><span class="hl-1">?: </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;verbose&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">; </span><span class="hl-3">// Log level (default: &#39;log&#39;)</span><br/><span class="hl-1">        </span><span class="hl-7">context</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Logger context (default: &#39;GrpcModule&#39;)</span><br/><span class="hl-1">        </span><span class="hl-7">logErrors</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log errors (default: true)</span><br/><span class="hl-1">        </span><span class="hl-7">logPerformance</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log performance metrics (default: false)</span><br/><span class="hl-1">        </span><span class="hl-7">logDetails</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log request/response details (default: false)</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:consumer-mode-client-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Consumer Mode (Client)<a href="#md:consumer-mode-client-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-8">GrpcConsumerOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Required</span><br/><span class="hl-1">    </span><span class="hl-7">serviceName</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Service name as defined in proto</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Path to proto file</span><br/><span class="hl-1">    </span><span class="hl-7">package</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Proto package name</span><br/><span class="hl-1">    </span><span class="hl-7">url</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Service URL to connect to</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Connection</span><br/><span class="hl-1">    </span><span class="hl-7">secure</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Use TLS (default: false)</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// TLS Configuration</span><br/><span class="hl-1">    </span><span class="hl-7">rootCerts</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Root certificates for TLS</span><br/><span class="hl-1">    </span><span class="hl-7">privateKey</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Private key for TLS</span><br/><span class="hl-1">    </span><span class="hl-7">certChain</span><span class="hl-1">?: </span><span class="hl-8">Buffer</span><span class="hl-1">; </span><span class="hl-3">// Certificate chain for TLS</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Timeout and Retry</span><br/><span class="hl-1">    </span><span class="hl-7">timeout</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-3">// Request timeout in ms (default: 30000, min: 1000, max: 300000)</span><br/><span class="hl-1">    </span><span class="hl-7">maxRetries</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-3">// Max retry attempts (default: 3, min: 0, max: 10)</span><br/><span class="hl-1">    </span><span class="hl-7">retryDelay</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-3">// Delay between retries in ms (default: 1000, min: 100, max: 10000)</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Proto Loader Options</span><br/><span class="hl-1">    </span><span class="hl-7">loaderOptions</span><span class="hl-1">?: </span><span class="hl-8">Options</span><span class="hl-1">; </span><span class="hl-3">// Additional options for protobufjs loader</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Channel Options</span><br/><span class="hl-1">    </span><span class="hl-7">channelOptions</span><span class="hl-1">?: </span><span class="hl-8">Record</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-8">any</span><span class="hl-1">&gt;; </span><span class="hl-3">// gRPC channel configuration</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Logging</span><br/><span class="hl-1">    </span><span class="hl-7">logging</span><span class="hl-1">?: {</span><br/><span class="hl-1">        </span><span class="hl-7">enabled</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Enable/disable logging (default: true)</span><br/><span class="hl-1">        </span><span class="hl-7">level</span><span class="hl-1">?: </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;verbose&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">; </span><span class="hl-3">// Log level (default: &#39;log&#39;)</span><br/><span class="hl-1">        </span><span class="hl-7">context</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-3">// Logger context (default: &#39;GrpcModule&#39;)</span><br/><span class="hl-1">        </span><span class="hl-7">logErrors</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log errors (default: true)</span><br/><span class="hl-1">        </span><span class="hl-7">logPerformance</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log performance metrics (default: false)</span><br/><span class="hl-1">        </span><span class="hl-7">logDetails</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-3">// Log request/response details (default: false)</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:🚀-performance-tips" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🚀 Performance Tips<a href="#md:🚀-performance-tips" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:connection-pooling" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connection Pooling<a href="#md:connection-pooling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The package automatically handles connection pooling with a 5-minute TTL and
periodic cleanup:</p>
<pre><code class="typescript"><span class="hl-3">// Automatic client caching - no configuration needed</span><br/><span class="hl-3">// Clients are reused for the same service and automatically cleaned up</span>
</code><button type="button">Copy</button></pre>

<a id="md:message-size-optimization" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Message Size Optimization<a href="#md:message-size-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">// Optimize for larger messages if needed</span><br/><span class="hl-1">    </span><span class="hl-7">maxSendMessageSize:</span><span class="hl-1"> </span><span class="hl-10">16</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1">, </span><span class="hl-3">// 16MB</span><br/><span class="hl-1">    </span><span class="hl-7">maxReceiveMessageSize:</span><span class="hl-1"> </span><span class="hl-10">16</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1"> * </span><span class="hl-10">1024</span><span class="hl-1">, </span><span class="hl-3">// 16MB</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:retry-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Retry Configuration<a href="#md:retry-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// Client-side retry with exponential backoff</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-7">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">(</span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;MethodName&#39;</span><span class="hl-1">, </span><span class="hl-7">request</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">timeout:</span><span class="hl-1"> </span><span class="hl-10">5000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">maxRetries:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">retryDelay:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1">, </span><span class="hl-3">// Will use exponential backoff: 1s, 2s, 4s</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:advanced-features" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Advanced Features<a href="#md:advanced-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:feature-modules" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Feature Modules<a href="#md:feature-modules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>For complex applications, organize your gRPC services into feature modules:</p>
<pre><code class="typescript"><span class="hl-3">// auth.module.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forFeature</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">services:</span><span class="hl-1"> [</span><span class="hl-7">AuthController</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><span class="hl-7">AuthService</span><span class="hl-1">],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">exports:</span><span class="hl-1"> [</span><span class="hl-7">AuthService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AuthModule</span><span class="hl-1"> {}</span><br/><br/><span class="hl-3">// user.module.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forFeature</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">services:</span><span class="hl-1"> [</span><span class="hl-7">UserController</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">providers:</span><span class="hl-1"> [</span><span class="hl-7">UserService</span><span class="hl-1">],</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-7">exports:</span><span class="hl-1"> [</span><span class="hl-7">UserService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">UserModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:async-configuration-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Async Configuration<a href="#md:async-configuration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Use async configuration for dynamic settings:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProviderAsync</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">imports:</span><span class="hl-1"> [</span><span class="hl-7">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">inject:</span><span class="hl-1"> [</span><span class="hl-7">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-0">useFactory</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-7">config</span><span class="hl-1">: </span><span class="hl-8">ConfigService</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">                </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PROTO_PATH&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PACKAGE&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_URL&#39;</span><span class="hl-1">), </span><span class="hl-3">// Can be async</span><br/><span class="hl-1">                </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-7">level:</span><br/><span class="hl-1">                        </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;production&#39;</span><br/><span class="hl-1">                            ? </span><span class="hl-2">&#39;warn&#39;</span><br/><span class="hl-1">                            : </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-7">logPerformance:</span><br/><span class="hl-1">                        </span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOG_PERFORMANCE&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">})</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:health-checks" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Health Checks<a href="#md:health-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Implement health checks for your gRPC services:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;HealthService&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">HealthController</span><span class="hl-1"> {</span><br/><span class="hl-1">    @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;Check&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">check</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-8">HealthCheckRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">HealthCheckResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-3">// Implement your health check logic</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-9">isHealthy</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">checkDatabaseConnection</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">status:</span><span class="hl-1"> </span><span class="hl-7">isHealthy</span><br/><span class="hl-1">                ? </span><span class="hl-7">ServingStatus</span><span class="hl-1">.</span><span class="hl-9">SERVING</span><br/><span class="hl-1">                : </span><span class="hl-7">ServingStatus</span><span class="hl-1">.</span><span class="hl-9">NOT_SERVING</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-7">isHealthy</span><span class="hl-1"> ? </span><span class="hl-2">&#39;Service is healthy&#39;</span><span class="hl-1"> : </span><span class="hl-2">&#39;Service is unhealthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:🔧-troubleshooting" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🔧 Troubleshooting<a href="#md:🔧-troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:common-issues" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Common Issues<a href="#md:common-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:proto-file-loading-issues" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Proto File Loading Issues<a href="#md:proto-file-loading-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">// Issue: Proto file not found</span><br/><span class="hl-3">// Solution: Use absolute paths</span><br/><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-7">path</span><span class="hl-1">.</span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-7">__dirname</span><span class="hl-1">, </span><span class="hl-2">&#39;../protos/service.proto&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Issue: Package not found</span><br/><span class="hl-3">// Solution: Ensure package name matches proto file</span><br/><span class="hl-3">// In service.proto: package com.example.service;</span><br/><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;com.example.service&#39;</span><span class="hl-1">, </span><span class="hl-3">// Must match proto file</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:connection-issues" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Connection Issues<a href="#md:connection-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">// Issue: Connection refused</span><br/><span class="hl-3">// Solution: Check server URL and ensure server is running</span><br/><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">, </span><span class="hl-3">// Ensure server is running on this port</span><br/><span class="hl-1">    </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">, </span><span class="hl-3">// Enable debug logging</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:service-registration-issues" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Service Registration Issues<a href="#md:service-registration-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">// Issue: &quot;12 UNIMPLEMENTED&quot; errors</span><br/><span class="hl-3">// This indicates the method is not properly registered</span><br/><br/><span class="hl-3">// Solution 1: Verify controller decorator</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">) </span><span class="hl-3">// Must match proto service name</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {}</span><br/><br/><span class="hl-3">// Solution 2: Verify method decorator</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;MethodName&#39;</span><span class="hl-1">) </span><span class="hl-3">// Must match proto method name</span><br/><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">methodName</span><span class="hl-1">(</span><span class="hl-7">request</span><span class="hl-1">: </span><span class="hl-7">RequestType</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">ResponseType</span><span class="hl-1">&gt; {}</span><br/><br/><span class="hl-3">// Solution 3: Check proto service/method names match exactly</span>
</code><button type="button">Copy</button></pre>

<a id="md:debug-mode" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Debug Mode<a href="#md:debug-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Enable comprehensive debugging:</p>
<pre><code class="typescript"><span class="hl-7">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">level:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">logErrors:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">logPerformance:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">logDetails:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:📋-changelog" class="tsd-anchor"></a><h2 class="tsd-anchor-link">📋 Changelog<a href="#md:📋-changelog" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:v140-latest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">v1.4.0 (Latest)<a href="#md:v140-latest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:✨-new-features" class="tsd-anchor"></a><h4 class="tsd-anchor-link">✨ <strong>New Features</strong><a href="#md:✨-new-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Advanced Decorators</strong>: Added <code>@GrpcPayload</code> and <code>@GrpcService</code> decorators
for enhanced metadata access and service injection</li>
<li><strong>Feature Modules</strong>: Support for organizing gRPC services into feature modules
with <code>GrpcModule.forFeature()</code></li>
<li><strong>Health Checks</strong>: Built-in support for gRPC health checking services</li>
<li><strong>Enhanced CLI</strong>: Added watch mode, silent mode, and improved error handling
to the code generation CLI</li>
</ul>
<a id="md:🐛-bug-fixes" class="tsd-anchor"></a><h4 class="tsd-anchor-link">🐛 <strong>Bug Fixes</strong><a href="#md:🐛-bug-fixes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Fixed async/sync method mismatches across all services</li>
<li>Resolved test failures in grpc-provider and grpc-registry services</li>
<li>Corrected error expectations in test cases</li>
<li>Improved connection handling and cleanup</li>
</ul>
<a id="md:📈-performance-improvements" class="tsd-anchor"></a><h4 class="tsd-anchor-link">📈 <strong>Performance Improvements</strong><a href="#md:📈-performance-improvements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>99.87% Test Coverage</strong>: Achieved exceptional test coverage with
comprehensive edge case testing</li>
<li>Optimized connection pooling with automatic cleanup</li>
<li>Enhanced logging performance with configurable levels</li>
<li>Improved retry logic with exponential backoff</li>
</ul>
<a id="md:🔧-breaking-changes" class="tsd-anchor"></a><h4 class="tsd-anchor-link">🔧 <strong>Breaking Changes</strong><a href="#md:🔧-breaking-changes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Removed automatic global exception filter registration - applications now
handle their own exception filters</li>
<li>Changed some service methods from async to synchronous for better performance</li>
<li>Updated CLI option defaults for better developer experience</li>
</ul>
<a id="md:📚-documentation" class="tsd-anchor"></a><h4 class="tsd-anchor-link">📚 <strong>Documentation</strong><a href="#md:📚-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Comprehensive README with best practices and integration guides</li>
<li>Added testing examples for all gRPC call types</li>
<li>Enhanced configuration documentation with all available options</li>
<li>Improved troubleshooting section with common issues and solutions</li>
</ul>
<a id="md:🏗️-developer-experience" class="tsd-anchor"></a><h4 class="tsd-anchor-link">🏗️ <strong>Developer Experience</strong><a href="#md:🏗️-developer-experience" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Enhanced TypeScript support with strict type checking</li>
<li>Improved error messages and debugging information</li>
<li>Better CLI feedback and progress indicators</li>
<li>Comprehensive test suites with coverage reporting</li>
</ul>
<a id="md:previous-versions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Previous Versions<a href="#md:previous-versions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For complete changelog, see
<a href="https://github.com/hmake98/nestjs-grpc/releases" target="_blank" class="external">GitHub Releases</a></p>
<a id="md:🤝-contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🤝 Contributing<a href="#md:🤝-contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We welcome contributions! Please see our <a href="CONTRIBUTING.md">Contributing Guide</a>
for details.</p>
<a id="md:development-setup" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Development Setup<a href="#md:development-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/hmake98/nestjs-grpc.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<a id="md:code-quality-standards" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Code Quality Standards<a href="#md:code-quality-standards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This project maintains high code quality standards:</p>
<ul>
<li><strong>Test Coverage</strong>: 99.87% statement coverage, 99.63% branch coverage</li>
<li><strong>TypeScript</strong>: Strict type checking enabled</li>
<li><strong>Linting</strong>: ESLint with comprehensive rules</li>
<li><strong>Formatting</strong>: Prettier for consistent code style</li>
</ul>
<a id="md:running-tests" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Running Tests<a href="#md:running-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Run all tests with coverage (recommended)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Run tests in watch mode during development</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:watch</span><br/><br/><span class="hl-3"># Run tests with coverage report only</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:coverage</span><br/><br/><span class="hl-3"># Run tests with debug mode for troubleshooting</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:debug</span><br/><br/><span class="hl-3"># Run tests with clean cache</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:clean</span>
</code><button type="button">Copy</button></pre>

<a id="md:release-process" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Release Process<a href="#md:release-process" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To release a new version:</p>
<pre><code class="bash"><span class="hl-3"># For patch releases (1.2.3 → 1.2.4)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:patch</span><br/><br/><span class="hl-3"># For minor releases (1.2.3 → 1.3.0)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:minor</span><br/><br/><span class="hl-3"># For major releases (1.2.3 → 2.0.0)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:major</span><br/><br/><span class="hl-3"># For beta releases</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:beta</span><br/><br/><span class="hl-3"># For release candidates</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:rc</span><br/><br/><span class="hl-3"># For dry run (test release without publishing)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:dry</span>
</code><button type="button">Copy</button></pre>

<a id="md:pre-commit-checks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Pre-commit Checks<a href="#md:pre-commit-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Before submitting a PR, ensure all checks pass:</p>
<pre><code class="bash"><span class="hl-3"># Lint and format check</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">lint:check</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">format:check</span><br/><br/><span class="hl-3"># Build validation</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">validate</span><br/><br/><span class="hl-3"># Full test suite</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<a id="md:📄-license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">📄 License<a href="#md:📄-license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License - see <a href="media/LICENSE">LICENSE</a> file for details.</p>
<a id="md:🔗-links" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🔗 Links<a href="#md:🔗-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/hmake98/nestjs-grpc" target="_blank" class="external">GitHub Repository</a></li>
<li><a href="https://www.npmjs.com/package/nestjs-grpc" target="_blank" class="external">npm Package</a></li>
<li><a href="https://grpc.io/docs/" target="_blank" class="external">gRPC Official Documentation</a></li>
<li><a href="https://docs.nestjs.com/" target="_blank" class="external">NestJS Documentation</a></li>
<li><a href="https://developers.google.com/protocol-buffers" target="_blank" class="external">Protocol Buffers Guide</a></li>
</ul>
<a id="md:🆘-support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🆘 Support<a href="#md:🆘-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/hmake98/nestjs-grpc/issues" target="_blank" class="external">GitHub Issues</a> - Bug reports
and feature requests</li>
<li><a href="https://github.com/hmake98/nestjs-grpc/discussions" target="_blank" class="external">GitHub Discussions</a> -
Community support and questions</li>
</ul>
<hr>
<p><strong>Made with ❤️ for the NestJS community</strong></p>
<p>⭐ Star us on GitHub if this package helped you!</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:nestjs-grpc"><span>nestjs-<wbr/>grpc</span></a><ul><li><a href="#md:✨-features"><span>✨ <wbr/>Features</span></a></li><li><a href="#md:🚀-quick-start"><span>🚀 <wbr/>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:1-create-proto-file"><span>1. <wbr/>Create <wbr/>Proto <wbr/>File</span></a></li><li><a href="#md:2-generate-typescript-types"><span>2. <wbr/>Generate <wbr/>Type<wbr/>Script <wbr/>Types</span></a></li><li><a href="#md:3-provider-setup-grpc-server"><span>3. <wbr/>Provider <wbr/>Setup (gRPC <wbr/>Server)</span></a></li><li><a href="#md:4-create-grpc-controller"><span>4. <wbr/>Create gRPC <wbr/>Controller</span></a></li><li><a href="#md:5-consumer-setup-grpc-client"><span>5. <wbr/>Consumer <wbr/>Setup (gRPC <wbr/>Client)</span></a></li></ul></li><li><a href="#md:📖-documentation"><span>📖 <wbr/>Documentation</span></a></li><li><ul><li><a href="#md:module-configuration"><span>Module <wbr/>Configuration</span></a></li><li><ul><li><a href="#md:provider-mode-server"><span>Provider <wbr/>Mode (<wbr/>Server)</span></a></li><li><a href="#md:consumer-mode-client"><span>Consumer <wbr/>Mode (<wbr/>Client)</span></a></li><li><a href="#md:async-configuration"><span>Async <wbr/>Configuration</span></a></li></ul></li><li><a href="#md:cli-code-generation"><span>CLI <wbr/>Code <wbr/>Generation</span></a></li><li><ul><li><a href="#md:basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><a href="#md:cli-options"><span>CLI <wbr/>Options</span></a></li></ul></li><li><a href="#md:decorators"><span>Decorators</span></a></li><li><ul><li><a href="#md:grpccontroller"><span>@<wbr/>Grpc<wbr/>Controller</span></a></li><li><a href="#md:grpcmethod"><span>@<wbr/>Grpc<wbr/>Method</span></a></li><li><a href="#md:grpcstream"><span>@<wbr/>Grpc<wbr/>Stream</span></a></li><li><a href="#md:grpcpayload"><span>@<wbr/>Grpc<wbr/>Payload</span></a></li><li><a href="#md:grpcservice"><span>@<wbr/>Grpc<wbr/>Service</span></a></li></ul></li><li><a href="#md:client-service"><span>Client <wbr/>Service</span></a></li><li><ul><li><a href="#md:unary-calls"><span>Unary <wbr/>Calls</span></a></li><li><a href="#md:server-streaming"><span>Server <wbr/>Streaming</span></a></li><li><a href="#md:client-streaming"><span>Client <wbr/>Streaming</span></a></li><li><a href="#md:bidirectional-streaming"><span>Bidirectional <wbr/>Streaming</span></a></li><li><a href="#md:client-options"><span>Client <wbr/>Options</span></a></li></ul></li></ul></li><li><a href="#md:🛡️-error-handling"><span>🛡️ <wbr/>Error <wbr/>Handling</span></a></li><li><ul><li><a href="#md:using-grpcexception"><span>Using <wbr/>Grpc<wbr/>Exception</span></a></li><li><a href="#md:available-exception-types"><span>Available <wbr/>Exception <wbr/>Types</span></a></li><li><a href="#md:custom-exception-filters"><span>Custom <wbr/>Exception <wbr/>Filters</span></a></li></ul></li><li><a href="#md:🧪-testing"><span>🧪 <wbr/>Testing</span></a></li><li><ul><li><a href="#md:testing-grpc-controllers"><span>Testing gRPC <wbr/>Controllers</span></a></li><li><a href="#md:testing-grpc-clients"><span>Testing gRPC <wbr/>Clients</span></a></li><li><a href="#md:testing-streaming-methods"><span>Testing <wbr/>Streaming <wbr/>Methods</span></a></li></ul></li><li><a href="#md:📊-logging-configuration"><span>📊 <wbr/>Logging <wbr/>Configuration</span></a></li><li><ul><li><a href="#md:basic-logging-setup"><span>Basic <wbr/>Logging <wbr/>Setup</span></a></li><li><a href="#md:environment-based-logging"><span>Environment-<wbr/>Based <wbr/>Logging</span></a></li></ul></li><li><a href="#md:🔧-configuration-options"><span>🔧 <wbr/>Configuration <wbr/>Options</span></a></li><li><ul><li><a href="#md:complete-configuration-interface"><span>Complete <wbr/>Configuration <wbr/>Interface</span></a></li><li><ul><li><a href="#md:provider-mode-server-1"><span>Provider <wbr/>Mode (<wbr/>Server)</span></a></li><li><a href="#md:consumer-mode-client-1"><span>Consumer <wbr/>Mode (<wbr/>Client)</span></a></li></ul></li></ul></li><li><a href="#md:🚀-performance-tips"><span>🚀 <wbr/>Performance <wbr/>Tips</span></a></li><li><ul><li><a href="#md:connection-pooling"><span>Connection <wbr/>Pooling</span></a></li><li><a href="#md:message-size-optimization"><span>Message <wbr/>Size <wbr/>Optimization</span></a></li><li><a href="#md:retry-configuration"><span>Retry <wbr/>Configuration</span></a></li><li><a href="#md:advanced-features"><span>Advanced <wbr/>Features</span></a></li><li><ul><li><a href="#md:feature-modules"><span>Feature <wbr/>Modules</span></a></li><li><a href="#md:async-configuration-1"><span>Async <wbr/>Configuration</span></a></li><li><a href="#md:health-checks"><span>Health <wbr/>Checks</span></a></li></ul></li></ul></li><li><a href="#md:🔧-troubleshooting"><span>🔧 <wbr/>Troubleshooting</span></a></li><li><ul><li><a href="#md:common-issues"><span>Common <wbr/>Issues</span></a></li><li><ul><li><a href="#md:proto-file-loading-issues"><span>Proto <wbr/>File <wbr/>Loading <wbr/>Issues</span></a></li><li><a href="#md:connection-issues"><span>Connection <wbr/>Issues</span></a></li><li><a href="#md:service-registration-issues"><span>Service <wbr/>Registration <wbr/>Issues</span></a></li></ul></li><li><a href="#md:debug-mode"><span>Debug <wbr/>Mode</span></a></li></ul></li><li><a href="#md:📋-changelog"><span>📋 <wbr/>Changelog</span></a></li><li><ul><li><a href="#md:v140-latest"><span>v1.4.0 (<wbr/>Latest)</span></a></li><li><ul><li><a href="#md:✨-new-features"><span>✨ <wbr/>New <wbr/>Features</span></a></li><li><a href="#md:🐛-bug-fixes"><span>🐛 <wbr/>Bug <wbr/>Fixes</span></a></li><li><a href="#md:📈-performance-improvements"><span>📈 <wbr/>Performance <wbr/>Improvements</span></a></li><li><a href="#md:🔧-breaking-changes"><span>🔧 <wbr/>Breaking <wbr/>Changes</span></a></li><li><a href="#md:📚-documentation"><span>📚 <wbr/>Documentation</span></a></li><li><a href="#md:🏗️-developer-experience"><span>🏗️ <wbr/>Developer <wbr/>Experience</span></a></li></ul></li><li><a href="#md:previous-versions"><span>Previous <wbr/>Versions</span></a></li></ul></li><li><a href="#md:🤝-contributing"><span>🤝 <wbr/>Contributing</span></a></li><li><ul><li><a href="#md:development-setup"><span>Development <wbr/>Setup</span></a></li><li><a href="#md:code-quality-standards"><span>Code <wbr/>Quality <wbr/>Standards</span></a></li><li><a href="#md:running-tests"><span>Running <wbr/>Tests</span></a></li><li><a href="#md:release-process"><span>Release <wbr/>Process</span></a></li><li><a href="#md:pre-commit-checks"><span>Pre-<wbr/>commit <wbr/>Checks</span></a></li></ul></li><li><a href="#md:📄-license"><span>📄 <wbr/>License</span></a></li><li><a href="#md:🔗-links"><span>🔗 <wbr/>Links</span></a></li><li><a href="#md:🆘-support"><span>🆘 <wbr/>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>nestjs-grpc</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
