<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>nestjs-grpc</title><meta name="description" content="Documentation for nestjs-grpc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">nestjs-grpc</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>nestjs-grpc</h1></div><div class="tsd-panel tsd-typography"><a id="md:nestjs-grpc" class="tsd-anchor"></a><h1 class="tsd-anchor-link">nestjs-grpc<a href="#md:nestjs-grpc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><div align="center">
<p><a href="https://badge.fury.io/js/nestjs-grpc" target="_blank" class="external"><img src="https://badge.fury.io/js/nestjs-grpc.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/MIT" target="_blank" class="external"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://www.typescriptlang.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&amp;logoColor=white" alt="TypeScript"></a>
<a href="https://nestjs.com/" target="_blank" class="external"><img src="https://img.shields.io/badge/NestJS-E0234E?logo=nestjs&amp;logoColor=white" alt="NestJS"></a>
<a href="https://github.com/hmake98/nestjs-grpc" target="_blank" class="external"><img src="https://img.shields.io/badge/coverage-99.87%25-brightgreen" alt="Test Coverage"></a>
<a href="https://nodejs.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen" alt="Node.js Version"></a></p>
<p><strong>Production-ready NestJS package for type-safe gRPC microservices with controller-based architecture</strong></p>
<p><a href="#md:installation">Installation</a> ‚Ä¢ <a href="#md:quick-start">Quick Start</a> ‚Ä¢ <a href="#md:decorators">API Docs</a> ‚Ä¢ <a href="#md:real-world-example">Examples</a> ‚Ä¢ <a href="#md:configuration-reference">Configuration</a></p>
</div>
<a id="md:‚ú®-features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">‚ú® Features<a href="#md:‚ú®-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üéØ <strong>Controller-Based</strong> - Familiar NestJS patterns for gRPC handlers</li>
<li>üõ°Ô∏è <strong>Type-Safe</strong> - Full TypeScript support with auto-generated types from proto files</li>
<li>üîÑ <strong>All Streaming Patterns</strong> - Unary, server, client, and bidirectional streaming</li>
<li>‚ö° <strong>Production-Ready</strong> - Connection pooling, caching, and optimized for high performance</li>
<li>üõ†Ô∏è <strong>CLI Generation</strong> - Generate TypeScript types from proto files with <code>nestjs-grpc generate</code></li>
<li>üîí <strong>TLS &amp; Security</strong> - Built-in TLS support and flexible authentication</li>
<li>üìä <strong>Configurable Logging</strong> - GrpcLogLevel enum with DEBUG, VERBOSE, LOG, WARN, ERROR</li>
<li>üîå <strong>Full DI Support</strong> - Inject any NestJS service into controllers and clients</li>
<li>üîç <strong>Exception Classes</strong> - gRPC-specific exceptions with proper status codes</li>
<li>üîÅ <strong>Retry Logic</strong> - Built-in exponential backoff and automatic retries</li>
<li>üì° <strong>Auto Connection Pooling</strong> - Automatic client management with cleanup</li>
</ul>
<hr>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quick Start<a href="#md:quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:1-create-a-proto-file" class="tsd-anchor"></a><h3 class="tsd-anchor-link">1. Create a Proto File<a href="#md:1-create-a-proto-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="protobuf">// protos/auth.proto
syntax = "proto3";
package auth;

service AuthService {
  rpc ValidateToken(ValidateTokenRequest) returns (ValidateTokenResponse);
  rpc Login(LoginRequest) returns (LoginResponse);
  rpc StreamUsers(StreamUsersRequest) returns (stream User);
}

message ValidateTokenRequest {
  string token = 1;
}

message ValidateTokenResponse {
  bool valid = 1;
  User user = 2;
}

message LoginRequest {
  string email = 1;
  string password = 2;
}

message LoginResponse {
  string token = 1;
  User user = 2;
}

message StreamUsersRequest {
  int32 limit = 1;
}

message User {
  string id = 1;
  string email = 2;
  string name = 3;
}
</code><button type="button">Copy</button></pre>

<a id="md:2-generate-typescript-types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">2. Generate TypeScript Types<a href="#md:2-generate-typescript-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--proto</span><span class="hl-1"> </span><span class="hl-2">&quot;./protos/**/*.proto&quot;</span><span class="hl-1"> </span><span class="hl-3">--output</span><span class="hl-1"> </span><span class="hl-2">&quot;./src/generated&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:3-setup-server-module" class="tsd-anchor"></a><h3 class="tsd-anchor-link">3. Setup Server Module<a href="#md:3-setup-server-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">// app.module.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Module</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcModule</span><span class="hl-1">, </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">AuthController</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.controller&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">AuthService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.service&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/auth.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">level:</span><span class="hl-1"> </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">DEBUG</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">context:</span><span class="hl-1"> </span><span class="hl-2">&#39;GrpcModule&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-6">controllers:</span><span class="hl-1"> [</span><span class="hl-6">AuthController</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">providers:</span><span class="hl-1"> [</span><span class="hl-6">AuthService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:4-create-grpc-controller" class="tsd-anchor"></a><h3 class="tsd-anchor-link">4. Create gRPC Controller<a href="#md:4-create-grpc-controller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">// auth.controller.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Observable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcController</span><span class="hl-1">, </span><span class="hl-6">GrpcMethod</span><span class="hl-1">, </span><span class="hl-6">GrpcStream</span><span class="hl-1">, </span><span class="hl-6">GrpcException</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">ValidateTokenRequest</span><span class="hl-1">, </span><span class="hl-6">ValidateTokenResponse</span><span class="hl-1">, </span><span class="hl-6">LoginRequest</span><span class="hl-1">, </span><span class="hl-6">LoginResponse</span><span class="hl-1">, </span><span class="hl-6">StreamUsersRequest</span><span class="hl-1">, </span><span class="hl-6">User</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./generated/auth&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AuthController</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">constructor</span><span class="hl-1">(</span><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">authService</span><span class="hl-1">: </span><span class="hl-8">AuthService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-8">ValidateTokenRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">isValid</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">authService</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">token</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-6">isValid</span><span class="hl-1"> ? </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">authService</span><span class="hl-1">.</span><span class="hl-0">getUserFromToken</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">token</span><span class="hl-1">) : </span><span class="hl-3">null</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">valid:</span><span class="hl-1"> </span><span class="hl-6">isValid</span><span class="hl-1">, </span><span class="hl-6">user</span><span class="hl-1"> };</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Token validation failed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;Login&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">login</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-8">LoginRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">LoginResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">authService</span><span class="hl-1">.</span><span class="hl-0">validateUser</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">email</span><span class="hl-1">, </span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">password</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-6">user</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unauthenticated</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid credentials&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">token</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">authService</span><span class="hl-1">.</span><span class="hl-0">generateToken</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">token</span><span class="hl-1">, </span><span class="hl-6">user:</span><span class="hl-1"> { </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">email</span><span class="hl-1">, </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1"> } };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">GrpcStream</span><span class="hl-1">(</span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">streamUsers</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-8">StreamUsersRequest</span><span class="hl-1">): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Observable</span><span class="hl-1">(</span><span class="hl-6">observer</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">authService</span><span class="hl-1">.</span><span class="hl-0">findAllPaginated</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">limit</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-6">users</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">users</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">));</span><br/><span class="hl-1">          </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        .</span><span class="hl-0">catch</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to stream users&#39;</span><span class="hl-1">)));</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:5-use-the-service-from-another-microservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">5. Use the Service (from another microservice)<a href="#md:5-use-the-service-from-another-microservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Injectable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcService</span><span class="hl-1">, </span><span class="hl-6">GrpcClientService</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">GrpcService</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">clientOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">30000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">maxRetries:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">retryDelay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AuthServiceClient</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">constructor</span><span class="hl-1">(</span><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">, { </span><span class="hl-6">token</span><span class="hl-1"> });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:decorators" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Decorators<a href="#md:decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:grpccontroller" class="tsd-anchor"></a><h3 class="tsd-anchor-link">@GrpcController<a href="#md:grpccontroller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Marks a class as a gRPC service handler:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {}</span><br/><br/><span class="hl-4">// With options</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">({ </span><span class="hl-6">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">, </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom.package&#39;</span><span class="hl-1"> })</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcmethod" class="tsd-anchor"></a><h3 class="tsd-anchor-link">@GrpcMethod<a href="#md:grpcmethod" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Handles unary (single request/response) calls:</p>
<pre><code class="typescript"><span class="hl-4">// Auto-infer method name from function name</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">()</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">ValidateTokenRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">ValidateTokenResponse</span><span class="hl-1">&gt; {}</span><br/><br/><span class="hl-4">// Explicit method name</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">ValidateTokenRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">ValidateTokenResponse</span><span class="hl-1">&gt; {}</span><br/><br/><span class="hl-4">// With custom timeout</span><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">({ </span><span class="hl-6">methodName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ProcessPayment&#39;</span><span class="hl-1">, </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">60000</span><span class="hl-1"> })</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">PaymentRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">PaymentResponse</span><span class="hl-1">&gt; {}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcstream" class="tsd-anchor"></a><h3 class="tsd-anchor-link">@GrpcStream<a href="#md:grpcstream" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Handles server streaming (multiple responses for one request):</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcStream</span><span class="hl-1">(</span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">)</span><br/><span class="hl-0">streamUsers</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">StreamUsersRequest</span><span class="hl-1">): </span><span class="hl-6">Observable</span><span class="hl-1">&lt;</span><span class="hl-6">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  return new </span><span class="hl-0">Observable</span><span class="hl-1">(</span><span class="hl-6">observer</span><span class="hl-1"> =&gt; {</span><br/><span class="hl-1">    this.userService.findAllPaginated(request.limit)</span><br/><span class="hl-1">      .then(</span><span class="hl-6">users</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">users</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .catch(</span><span class="hl-6">error</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">observer</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to stream users&#39;</span><span class="hl-1">)));</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcpayload" class="tsd-anchor"></a><h3 class="tsd-anchor-link">@GrpcPayload<a href="#md:grpcpayload" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Extract request payload and metadata from gRPC context:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;CreateUser&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">createUser</span><span class="hl-1">(</span><br/><span class="hl-1">  @</span><span class="hl-0">GrpcPayload</span><span class="hl-1">() </span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">CreateUserRequest</span><span class="hl-1">,</span><br/><span class="hl-1">  @</span><span class="hl-0">GrpcPayload</span><span class="hl-1">(</span><span class="hl-2">&#39;metadata&#39;</span><span class="hl-1">) </span><span class="hl-6">metadata</span><span class="hl-1">?: </span><span class="hl-6">any</span><span class="hl-1">,</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">CreateUserResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  console.log(</span><span class="hl-2">&#39;Metadata:&#39;</span><span class="hl-1">, metadata);</span><br/><span class="hl-1">  return this.userService.create(request);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:grpcservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">@GrpcService<a href="#md:grpcservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Register a class as a gRPC service client:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcService</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth-service:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">clientOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">30000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">maxRetries:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AuthServiceClient</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">constructor</span><span class="hl-1">(</span><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:client-service" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Client Service<a href="#md:client-service" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>GrpcClientService</code> provides methods for all gRPC call types. Use these in your services to call other gRPC services:</p>
<a id="md:unary-calls-single-requestresponse" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Unary Calls (Single Request/Response)<a href="#md:unary-calls-single-requestresponse" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AuthService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">constructor</span><span class="hl-1">(</span><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">grpcClient</span><span class="hl-1">: </span><span class="hl-8">GrpcClientService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">validateToken</span><span class="hl-1">(</span><span class="hl-6">token</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">&lt;</span><span class="hl-8">ValidateTokenRequest</span><span class="hl-1">, </span><span class="hl-8">ValidateTokenResponse</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;AuthService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;ValidateToken&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      { </span><span class="hl-6">token</span><span class="hl-1"> },</span><br/><span class="hl-1">      { </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">, </span><span class="hl-6">maxRetries:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">, </span><span class="hl-6">retryDelay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1"> }</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:server-streaming-multiple-responses" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Server Streaming (Multiple Responses)<a href="#md:server-streaming-multiple-responses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">getUserStream</span><span class="hl-1">(</span><span class="hl-6">limit</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">): </span><span class="hl-6">Observable</span><span class="hl-1">&lt;</span><span class="hl-6">User</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  return this.grpcClient.serverStream&lt;</span><span class="hl-6">StreamUsersRequest</span><span class="hl-1">, User&gt;(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;UserService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;StreamUsers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    { </span><span class="hl-6">limit</span><span class="hl-1"> }</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:client-streaming-multiple-requests" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Client Streaming (Multiple Requests)<a href="#md:client-streaming-multiple-requests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-6">fileChunks</span><span class="hl-1">: </span><span class="hl-6">Observable</span><span class="hl-1">&lt;</span><span class="hl-6">FileChunk</span><span class="hl-1">&gt;): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">UploadResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  return this.grpcClient.clientStream&lt;</span><span class="hl-6">FileChunk</span><span class="hl-1">, UploadResponse&gt;(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;FileService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;UploadFile&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">fileChunks</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:bidirectional-streaming-multiple-requestsresponses" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Bidirectional Streaming (Multiple Requests/Responses)<a href="#md:bidirectional-streaming-multiple-requestsresponses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">startChat</span><span class="hl-1">(</span><span class="hl-6">messageStream</span><span class="hl-1">: </span><span class="hl-6">Observable</span><span class="hl-1">&lt;</span><span class="hl-6">ChatMessage</span><span class="hl-1">&gt;): </span><span class="hl-6">Observable</span><span class="hl-1">&lt;</span><span class="hl-6">ChatMessage</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  return this.grpcClient.bidiStream&lt;</span><span class="hl-6">ChatMessage</span><span class="hl-1">, ChatMessage&gt;(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;ChatService&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;StartChat&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">messageStream</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:error-handling" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Error Handling<a href="#md:error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use <code>GrpcException</code> to throw gRPC-compliant errors with proper status codes:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcException</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;GetUser&#39;</span><span class="hl-1">)</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getUser</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-6">GetUserRequest</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">GetUserResponse</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  const </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">userService</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-6">user</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">notFound</span><span class="hl-1">(</span><span class="hl-2">&#39;User not found&#39;</span><span class="hl-1">, { </span><span class="hl-6">userId:</span><span class="hl-1"> </span><span class="hl-6">request</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!this.hasPermission(request.requesterId, user.id)) {</span><br/><span class="hl-1">    </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">permissionDenied</span><span class="hl-1">(</span><span class="hl-2">&#39;Access denied&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  return { </span><span class="hl-6">user</span><span class="hl-1"> };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:available-exception-types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Available Exception Types<a href="#md:available-exception-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All standard gRPC status codes:</p>
<pre><code class="typescript"><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">()               </span><span class="hl-4">// 0</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">cancelled</span><span class="hl-1">()        </span><span class="hl-4">// 1</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unknown</span><span class="hl-1">()          </span><span class="hl-4">// 2</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">invalidArgument</span><span class="hl-1">()  </span><span class="hl-4">// 3</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">deadlineExceeded</span><span class="hl-1">() </span><span class="hl-4">// 4</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">notFound</span><span class="hl-1">()         </span><span class="hl-4">// 5</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">alreadyExists</span><span class="hl-1">()    </span><span class="hl-4">// 6</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">permissionDenied</span><span class="hl-1">() </span><span class="hl-4">// 7</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">resourceExhausted</span><span class="hl-1">()</span><span class="hl-4">// 8</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">failedPrecondition</span><span class="hl-1">()</span><span class="hl-4">// 9</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">aborted</span><span class="hl-1">()          </span><span class="hl-4">// 10</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">outOfRange</span><span class="hl-1">()       </span><span class="hl-4">// 11</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unimplemented</span><span class="hl-1">()    </span><span class="hl-4">// 12</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">internal</span><span class="hl-1">()         </span><span class="hl-4">// 13</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unavailable</span><span class="hl-1">()      </span><span class="hl-4">// 14</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">dataLoss</span><span class="hl-1">()         </span><span class="hl-4">// 15</span><br/><span class="hl-6">GrpcException</span><span class="hl-1">.</span><span class="hl-0">unauthenticated</span><span class="hl-1">()  </span><span class="hl-4">// 16</span>
</code><button type="button">Copy</button></pre>

<a id="md:custom-exception-filter" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Custom Exception Filter<a href="#md:custom-exception-filter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create a custom filter to handle errors globally:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Catch</span><span class="hl-1">, </span><span class="hl-6">RpcExceptionFilter</span><span class="hl-1">, </span><span class="hl-6">ArgumentsHost</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Observable</span><span class="hl-1">, </span><span class="hl-6">throwError</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcException</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Catch</span><span class="hl-1">()</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">CustomGrpcExceptionFilter</span><span class="hl-1"> </span><span class="hl-3">implements</span><span class="hl-1"> </span><span class="hl-8">RpcExceptionFilter</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-6">exception</span><span class="hl-1">: </span><span class="hl-8">any</span><span class="hl-1">, </span><span class="hl-6">host</span><span class="hl-1">: </span><span class="hl-8">ArgumentsHost</span><span class="hl-1">): </span><span class="hl-8">Observable</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">exception</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-8">GrpcException</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">throwError</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">        </span><span class="hl-6">code:</span><span class="hl-1"> </span><span class="hl-6">exception</span><span class="hl-1">.</span><span class="hl-0">getCode</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-6">exception</span><span class="hl-1">.</span><span class="hl-6">message</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">details:</span><span class="hl-1"> </span><span class="hl-6">exception</span><span class="hl-1">.</span><span class="hl-0">getDetails</span><span class="hl-1">(),</span><br/><span class="hl-1">      }));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">throwError</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">      </span><span class="hl-6">code:</span><span class="hl-1"> </span><span class="hl-9">13</span><span class="hl-1">, </span><span class="hl-4">// INTERNAL</span><br/><span class="hl-1">      </span><span class="hl-6">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Internal server error&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Register in module</span><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({ </span><span class="hl-4">/* ... */</span><span class="hl-1"> })],</span><br/><span class="hl-1">  </span><span class="hl-6">providers:</span><span class="hl-1"> [{ </span><span class="hl-6">provide:</span><span class="hl-1"> </span><span class="hl-7">APP_FILTER</span><span class="hl-1">, </span><span class="hl-6">useClass:</span><span class="hl-1"> </span><span class="hl-6">CustomGrpcExceptionFilter</span><span class="hl-1"> }],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:configuration-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration Reference<a href="#md:configuration-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:server-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Server Configuration<a href="#md:server-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">// Required</span><br/><span class="hl-1">  </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,  </span><span class="hl-4">// Proto file path (supports glob patterns)</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,                   </span><span class="hl-4">// Proto package name</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Connection</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;0.0.0.0:50051&#39;</span><span class="hl-1">,                </span><span class="hl-4">// Listen address (default: localhost:50051)</span><br/><span class="hl-1">  </span><span class="hl-6">secure:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,                        </span><span class="hl-4">// Enable TLS</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// TLS Certificates</span><br/><span class="hl-1">  rootCerts?</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">Buffer</span><span class="hl-1">,</span><br/><span class="hl-1">  privateKey?</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">Buffer</span><span class="hl-1">,</span><br/><span class="hl-1">  certChain?</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">Buffer</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Message Limits</span><br/><span class="hl-1">  </span><span class="hl-6">maxSendMessageSize:</span><span class="hl-1"> </span><span class="hl-9">4</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">,  </span><span class="hl-4">// Default: 4MB</span><br/><span class="hl-1">  </span><span class="hl-6">maxReceiveMessageSize:</span><span class="hl-1"> </span><span class="hl-9">4</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Logging</span><br/><span class="hl-1">  </span><span class="hl-6">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">level:</span><span class="hl-1"> </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">LOG</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">context:</span><span class="hl-1"> </span><span class="hl-2">&#39;GrpcModule&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:client-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Client Configuration<a href="#md:client-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcService</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">// Required</span><br/><span class="hl-1">  </span><span class="hl-6">serviceName:</span><span class="hl-1"> </span><span class="hl-2">&#39;ExternalService&#39;</span><span class="hl-1">,       </span><span class="hl-4">// Service name from proto</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;external&#39;</span><span class="hl-1">,                  </span><span class="hl-4">// Proto package name</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;external-service:50051&#39;</span><span class="hl-1">,        </span><span class="hl-4">// Service URL</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Connection</span><br/><span class="hl-1">  </span><span class="hl-6">secure:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,                        </span><span class="hl-4">// Enable TLS</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Timeouts &amp; Retries</span><br/><span class="hl-1">  </span><span class="hl-6">clientOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">30000</span><span class="hl-1">,       </span><span class="hl-4">// Request timeout in ms (default: 30000)</span><br/><span class="hl-1">    </span><span class="hl-6">maxRetries:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,        </span><span class="hl-4">// Retry attempts (default: 3)</span><br/><span class="hl-1">    </span><span class="hl-6">retryDelay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,     </span><span class="hl-4">// Delay between retries in ms (default: 1000)</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Advanced gRPC channel options</span><br/><span class="hl-1">  </span><span class="hl-6">channelOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;grpc.keepalive_time_ms&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-9">120000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;grpc.max_concurrent_streams&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-9">100</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:async-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Async Configuration<a href="#md:async-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use ConfigService for dynamic settings:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProviderAsync</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><span class="hl-6">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-6">inject:</span><span class="hl-1"> [</span><span class="hl-6">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-0">useFactory</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-8">ConfigService</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">        </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PROTO_PATH&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_PACKAGE&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_URL&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-6">logging:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">enabled:</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOGGING_ENABLED&#39;</span><span class="hl-1">) !== </span><span class="hl-2">&#39;false&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">level:</span><span class="hl-1"> </span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-6">env</span><span class="hl-1">.</span><span class="hl-7">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;production&#39;</span><span class="hl-1"> ? </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">WARN</span><span class="hl-1"> : </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">DEBUG</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:cli-code-generation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CLI Code Generation<a href="#md:cli-code-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Generate TypeScript types from proto files:</p>
<pre><code class="bash"><span class="hl-4"># Basic usage</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--proto</span><span class="hl-1"> </span><span class="hl-2">&quot;./protos/**/*.proto&quot;</span><span class="hl-1"> </span><span class="hl-3">--output</span><span class="hl-1"> </span><span class="hl-2">&quot;./src/generated&quot;</span><br/><br/><span class="hl-4"># Generate classes instead of interfaces</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--classes</span><br/><br/><span class="hl-4"># Watch mode (regenerate on changes)</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--watch</span><br/><br/><span class="hl-4"># Filter by package name</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--package-filter</span><span class="hl-1"> </span><span class="hl-2">&quot;auth&quot;</span><br/><br/><span class="hl-4"># Verbose output for debugging</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><span class="hl-1"> </span><span class="hl-2">generate</span><span class="hl-1"> </span><span class="hl-3">--verbose</span>
</code><button type="button">Copy</button></pre>

<a id="md:cli-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">CLI Options<a href="#md:cli-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p, --proto &lt;pattern&gt;</code></td>
<td>Proto file path or glob pattern</td>
<td><code>&quot;./protos/**/*.proto&quot;</code></td>
</tr>
<tr>
<td><code>-o, --output &lt;dir&gt;</code></td>
<td>Output directory</td>
<td><code>&quot;./src/generated&quot;</code></td>
</tr>
<tr>
<td><code>-w, --watch</code></td>
<td>Watch mode</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>-c, --classes</code></td>
<td>Generate classes instead of interfaces</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>-f, --package-filter &lt;name&gt;</code></td>
<td>Filter by package name</td>
<td>-</td>
</tr>
<tr>
<td><code>-r, --recursive</code></td>
<td>Search directories recursively</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>-v, --verbose</code></td>
<td>Verbose logging</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
<hr>
<a id="md:testing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Testing<a href="#md:testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:testing-controllers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Testing Controllers<a href="#md:testing-controllers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Test</span><span class="hl-1">, </span><span class="hl-6">TestingModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/testing&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">GrpcModule</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-grpc&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">AuthController</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./auth.controller&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&#39;AuthController&#39;</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">controller</span><span class="hl-1">: </span><span class="hl-8">AuthController</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">authService</span><span class="hl-1">: </span><span class="hl-8">AuthService</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">beforeEach</span><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">module</span><span class="hl-1">: </span><span class="hl-8">TestingModule</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Test</span><span class="hl-1">.</span><span class="hl-0">createTestingModule</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-6">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./test/protos/auth.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;auth&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">      </span><span class="hl-6">controllers:</span><span class="hl-1"> [</span><span class="hl-6">AuthController</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-6">providers:</span><span class="hl-1"> [{</span><br/><span class="hl-1">        </span><span class="hl-6">provide:</span><span class="hl-1"> </span><span class="hl-6">AuthService</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">useValue:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">validateToken:</span><span class="hl-1"> </span><span class="hl-6">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">          </span><span class="hl-6">generateToken:</span><span class="hl-1"> </span><span class="hl-6">jest</span><span class="hl-1">.</span><span class="hl-0">fn</span><span class="hl-1">(),</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      }],</span><br/><span class="hl-1">    }).</span><span class="hl-0">compile</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-6">controller</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">AuthController</span><span class="hl-1">&gt;(</span><span class="hl-6">AuthController</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">authService</span><span class="hl-1"> = </span><span class="hl-8">module</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">&lt;</span><span class="hl-8">AuthService</span><span class="hl-1">&gt;(</span><span class="hl-6">AuthService</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should validate token successfully&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-6">authService</span><span class="hl-1">, </span><span class="hl-2">&#39;validateToken&#39;</span><span class="hl-1">).</span><span class="hl-0">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">controller</span><span class="hl-1">.</span><span class="hl-0">validateToken</span><span class="hl-1">({ </span><span class="hl-6">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;valid-token&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">valid</span><span class="hl-1">).</span><span class="hl-0">toBe</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:testing-streaming" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Testing Streaming<a href="#md:testing-streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Subject</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rxjs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should handle server streaming&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">mockStream</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Subject</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-6">jest</span><span class="hl-1">.</span><span class="hl-0">spyOn</span><span class="hl-1">(</span><span class="hl-6">grpcClient</span><span class="hl-1">, </span><span class="hl-2">&#39;serverStream&#39;</span><span class="hl-1">).</span><span class="hl-0">mockReturnValue</span><span class="hl-1">(</span><span class="hl-6">mockStream</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">result$</span><span class="hl-1"> = </span><span class="hl-6">service</span><span class="hl-1">.</span><span class="hl-0">getUserStream</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">emitted</span><span class="hl-1">: </span><span class="hl-8">User</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-6">result$</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-6">emitted</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">));</span><br/><br/><span class="hl-1">  </span><span class="hl-6">mockStream</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">({ </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">, </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John&#39;</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;john@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-6">mockStream</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-6">emitted</span><span class="hl-1">).</span><span class="hl-0">toHaveLength</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:logging" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Logging<a href="#md:logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Configure logging using <code>GrpcLogLevel</code> enum:</p>
<pre><code class="typescript"><span class="hl-10">logging</span><span class="hl-1">: {</span><br/><span class="hl-1">  </span><span class="hl-10">enabled</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">level</span><span class="hl-1">: </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">DEBUG</span><span class="hl-1">,  </span><span class="hl-4">// DEBUG | VERBOSE | LOG | WARN | ERROR</span><br/><span class="hl-1">  </span><span class="hl-10">context</span><span class="hl-1">: </span><span class="hl-2">&#39;GrpcModule&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Environment-based logging:</p>
<pre><code class="typescript"><span class="hl-10">logging</span><span class="hl-1">: {</span><br/><span class="hl-1">  </span><span class="hl-10">enabled</span><span class="hl-1">: </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;GRPC_LOGGING_ENABLED&#39;</span><span class="hl-1">) !== </span><span class="hl-2">&#39;false&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">level</span><span class="hl-1">: </span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-6">env</span><span class="hl-1">.</span><span class="hl-7">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;development&#39;</span><br/><span class="hl-1">    ? </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">DEBUG</span><br/><span class="hl-1">    : </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">LOG</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:performance-tips" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Performance Tips<a href="#md:performance-tips" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:connection-pooling" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connection Pooling<a href="#md:connection-pooling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Clients are automatically pooled and reused with a 5-minute TTL:</p>
<pre><code class="typescript"><span class="hl-4">// No configuration needed - automatic connection management</span>
</code><button type="button">Copy</button></pre>

<a id="md:message-size-optimization" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Message Size Optimization<a href="#md:message-size-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Increase limits for larger payloads:</p>
<pre><code class="typescript"><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">// ...</span><br/><span class="hl-1">  </span><span class="hl-6">maxSendMessageSize:</span><span class="hl-1"> </span><span class="hl-9">16</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">,    </span><span class="hl-4">// 16MB</span><br/><span class="hl-1">  </span><span class="hl-6">maxReceiveMessageSize:</span><span class="hl-1"> </span><span class="hl-9">16</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:retry-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Retry Configuration<a href="#md:retry-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Enable retries with exponential backoff:</p>
<pre><code class="typescript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">grpcClient</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;MethodName&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">request</span><span class="hl-1">,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">timeout:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">maxRetries:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">retryDelay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,  </span><span class="hl-4">// Exponential: 1s ‚Üí 2s ‚Üí 4s</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:troubleshooting" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Troubleshooting<a href="#md:troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:proto-file-not-found" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Proto File Not Found<a href="#md:proto-file-not-found" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ensure the path is correct and use absolute paths when possible:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;path&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">.</span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-6">__dirname</span><span class="hl-1">, </span><span class="hl-2">&#39;../protos/service.proto&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;service&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:package-name-mismatch" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Package Name Mismatch<a href="#md:package-name-mismatch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The package name must match what's in your proto file:</p>
<pre><code class="protobuf">// service.proto
package my.service;  // Must match configuration
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">protoPath:</span><span class="hl-1"> </span><span class="hl-2">&#39;./protos/service.proto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">package:</span><span class="hl-1"> </span><span class="hl-2">&#39;my.service&#39;</span><span class="hl-1">,  </span><span class="hl-4">// Matches proto file</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:12-unimplemented-errors" class="tsd-anchor"></a><h3 class="tsd-anchor-link">&quot;12 UNIMPLEMENTED&quot; Errors<a href="#md:12-unimplemented-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Method is not registered. Check:</p>
<ol>
<li>Controller decorator service name matches proto</li>
<li>Method decorator name matches proto exactly</li>
<li>Controller is in module's <code>controllers</code> array</li>
</ol>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">GrpcController</span><span class="hl-1">(</span><span class="hl-2">&#39;ServiceName&#39;</span><span class="hl-1">)  </span><span class="hl-4">// Must match proto service</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-8">ServiceController</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">GrpcMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;MethodName&#39;</span><span class="hl-1">)     </span><span class="hl-4">// Must match proto method</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">methodName</span><span class="hl-1">() {}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:connection-refused" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connection Refused<a href="#md:connection-refused" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Check server is running and URL is correct:</p>
<pre><code class="typescript"><span class="hl-6">GrpcModule</span><span class="hl-1">.</span><span class="hl-0">forProvider</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:50051&#39;</span><span class="hl-1">,  </span><span class="hl-4">// Verify server is listening here</span><br/><span class="hl-1">  </span><span class="hl-6">logging:</span><span class="hl-1"> { </span><span class="hl-6">level:</span><span class="hl-1"> </span><span class="hl-6">GrpcLogLevel</span><span class="hl-1">.</span><span class="hl-7">DEBUG</span><span class="hl-1"> },  </span><span class="hl-4">// Enable debug logs</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:real-world-example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Real-World Example<a href="#md:real-world-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See <a href="https://github.com/BackendWorks/nestjs-microservices" target="_blank" class="external">BackendWorks/nestjs-microservices</a> for a complete working example of a microservices architecture using nestjs-grpc.</p>
<hr>
<a id="md:contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing<a href="#md:contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We welcome contributions! Please see our <a href="CONTRIBUTING.md">Contributing Guide</a>.</p>
<a id="md:development-setup" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Development Setup<a href="#md:development-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/hmake98/nestjs-grpc.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">nestjs-grpc</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<a id="md:quality-standards" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Quality Standards<a href="#md:quality-standards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Test Coverage</strong>: 99.87% statement coverage</li>
<li><strong>TypeScript</strong>: Strict type checking</li>
<li><strong>Linting</strong>: ESLint</li>
<li><strong>Formatting</strong>: Prettier</li>
</ul>
<a id="md:build-commands" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Build Commands<a href="#md:build-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1">        </span><span class="hl-4"># Full production build (recommended)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">compile</span><span class="hl-1">      </span><span class="hl-4"># SWC compilation only (~31ms)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">declarations</span><span class="hl-1"> </span><span class="hl-4"># Generate TypeScript declarations</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1">             </span><span class="hl-4"># Run tests with coverage</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:watch</span><span class="hl-1">   </span><span class="hl-4"># Watch mode</span>
</code><button type="button">Copy</button></pre>

<a id="md:release-commands" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Release Commands<a href="#md:release-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:patch</span><span class="hl-1">    </span><span class="hl-4"># Patch version (1.2.3 ‚Üí 1.2.4)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:minor</span><span class="hl-1">    </span><span class="hl-4"># Minor version (1.2.3 ‚Üí 1.3.0)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:major</span><span class="hl-1">    </span><span class="hl-4"># Major version (1.2.3 ‚Üí 2.0.0)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:beta</span><span class="hl-1">     </span><span class="hl-4"># Beta release</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release:rc</span><span class="hl-1">       </span><span class="hl-4"># Release candidate</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:changelog" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Changelog<a href="#md:changelog" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:v150-latest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">v1.5.0 (Latest)<a href="#md:v150-latest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚ú® Features</strong></p>
<ul>
<li>99.87% statement coverage across core modules</li>
<li>Advanced error handling and streaming tests</li>
<li>SWC compiler integration (31ms vs 500ms+ with TypeScript)</li>
</ul>
<p><strong>üêõ Fixes</strong></p>
<ul>
<li>Fixed streaming error paths in all patterns</li>
<li>Resolved exception filter edge cases</li>
<li>Improved proto file loading error handling</li>
</ul>
<p><strong>üìà Performance</strong></p>
<ul>
<li>Lightning-fast SWC compilation</li>
<li>Optimized connection pooling</li>
<li>Enhanced retry logic with exponential backoff</li>
</ul>
<p><strong>üîß Breaking Changes</strong></p>
<ul>
<li>Removed automatic global exception filter</li>
<li>Updated logging system to use GrpcLogLevel enum (removed deprecated options)</li>
<li>ts-jest replaced with @swc/jest for faster tests</li>
</ul>
<p>For complete changelog, see <a href="https://github.com/hmake98/nestjs-grpc/releases" target="_blank" class="external">GitHub Releases</a>.</p>
<hr>
<a id="md:links" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Links<a href="#md:links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/hmake98/nestjs-grpc" target="_blank" class="external">GitHub Repository</a></li>
<li><a href="https://www.npmjs.com/package/nestjs-grpc" target="_blank" class="external">npm Package</a></li>
<li><a href="https://grpc.io/docs/" target="_blank" class="external">gRPC Documentation</a></li>
<li><a href="https://docs.nestjs.com/" target="_blank" class="external">NestJS Documentation</a></li>
<li><a href="https://developers.google.com/protocol-buffers" target="_blank" class="external">Protocol Buffers Guide</a></li>
</ul>
<hr>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License - see <a href="media/LICENSE">LICENSE</a> file for details.</p>
<hr>
<a id="md:support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Support<a href="#md:support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/hmake98/nestjs-grpc/issues" target="_blank" class="external">GitHub Issues</a> - Bug reports &amp; features</li>
<li><a href="https://github.com/hmake98/nestjs-grpc/discussions" target="_blank" class="external">GitHub Discussions</a> - Community support</li>
</ul>
<hr>
<p><strong>Made with ‚ù§Ô∏è for the NestJS community</strong></p>
<p>‚≠ê Star us on GitHub if this package helped you!</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:nestjs-grpc"><span>nestjs-<wbr/>grpc</span></a><ul><li><a href="#md:‚ú®-features"><span>‚ú® <wbr/>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#md:1-create-a-proto-file"><span>1. <wbr/>Create a <wbr/>Proto <wbr/>File</span></a></li><li><a href="#md:2-generate-typescript-types"><span>2. <wbr/>Generate <wbr/>Type<wbr/>Script <wbr/>Types</span></a></li><li><a href="#md:3-setup-server-module"><span>3. <wbr/>Setup <wbr/>Server <wbr/>Module</span></a></li><li><a href="#md:4-create-grpc-controller"><span>4. <wbr/>Create gRPC <wbr/>Controller</span></a></li><li><a href="#md:5-use-the-service-from-another-microservice"><span>5. <wbr/>Use the <wbr/>Service (from another microservice)</span></a></li></ul></li><li><a href="#md:decorators"><span>Decorators</span></a></li><li><ul><li><a href="#md:grpccontroller"><span>@<wbr/>Grpc<wbr/>Controller</span></a></li><li><a href="#md:grpcmethod"><span>@<wbr/>Grpc<wbr/>Method</span></a></li><li><a href="#md:grpcstream"><span>@<wbr/>Grpc<wbr/>Stream</span></a></li><li><a href="#md:grpcpayload"><span>@<wbr/>Grpc<wbr/>Payload</span></a></li><li><a href="#md:grpcservice"><span>@<wbr/>Grpc<wbr/>Service</span></a></li></ul></li><li><a href="#md:client-service"><span>Client <wbr/>Service</span></a></li><li><ul><li><a href="#md:unary-calls-single-requestresponse"><span>Unary <wbr/>Calls (<wbr/>Single <wbr/>Request/<wbr/>Response)</span></a></li><li><a href="#md:server-streaming-multiple-responses"><span>Server <wbr/>Streaming (<wbr/>Multiple <wbr/>Responses)</span></a></li><li><a href="#md:client-streaming-multiple-requests"><span>Client <wbr/>Streaming (<wbr/>Multiple <wbr/>Requests)</span></a></li><li><a href="#md:bidirectional-streaming-multiple-requestsresponses"><span>Bidirectional <wbr/>Streaming (<wbr/>Multiple <wbr/>Requests/<wbr/>Responses)</span></a></li></ul></li><li><a href="#md:error-handling"><span>Error <wbr/>Handling</span></a></li><li><ul><li><a href="#md:available-exception-types"><span>Available <wbr/>Exception <wbr/>Types</span></a></li><li><a href="#md:custom-exception-filter"><span>Custom <wbr/>Exception <wbr/>Filter</span></a></li></ul></li><li><a href="#md:configuration-reference"><span>Configuration <wbr/>Reference</span></a></li><li><ul><li><a href="#md:server-configuration"><span>Server <wbr/>Configuration</span></a></li><li><a href="#md:client-configuration"><span>Client <wbr/>Configuration</span></a></li><li><a href="#md:async-configuration"><span>Async <wbr/>Configuration</span></a></li></ul></li><li><a href="#md:cli-code-generation"><span>CLI <wbr/>Code <wbr/>Generation</span></a></li><li><ul><li><a href="#md:cli-options"><span>CLI <wbr/>Options</span></a></li></ul></li><li><a href="#md:testing"><span>Testing</span></a></li><li><ul><li><a href="#md:testing-controllers"><span>Testing <wbr/>Controllers</span></a></li><li><a href="#md:testing-streaming"><span>Testing <wbr/>Streaming</span></a></li></ul></li><li><a href="#md:logging"><span>Logging</span></a></li><li><a href="#md:performance-tips"><span>Performance <wbr/>Tips</span></a></li><li><ul><li><a href="#md:connection-pooling"><span>Connection <wbr/>Pooling</span></a></li><li><a href="#md:message-size-optimization"><span>Message <wbr/>Size <wbr/>Optimization</span></a></li><li><a href="#md:retry-configuration"><span>Retry <wbr/>Configuration</span></a></li></ul></li><li><a href="#md:troubleshooting"><span>Troubleshooting</span></a></li><li><ul><li><a href="#md:proto-file-not-found"><span>Proto <wbr/>File <wbr/>Not <wbr/>Found</span></a></li><li><a href="#md:package-name-mismatch"><span>Package <wbr/>Name <wbr/>Mismatch</span></a></li><li><a href="#md:12-unimplemented-errors"><span>&quot;12 UNIMPLEMENTED&quot; <wbr/>Errors</span></a></li><li><a href="#md:connection-refused"><span>Connection <wbr/>Refused</span></a></li></ul></li><li><a href="#md:real-world-example"><span>Real-<wbr/>World <wbr/>Example</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><ul><li><a href="#md:development-setup"><span>Development <wbr/>Setup</span></a></li><li><a href="#md:quality-standards"><span>Quality <wbr/>Standards</span></a></li><li><a href="#md:build-commands"><span>Build <wbr/>Commands</span></a></li><li><a href="#md:release-commands"><span>Release <wbr/>Commands</span></a></li></ul></li><li><a href="#md:changelog"><span>Changelog</span></a></li><li><ul><li><a href="#md:v150-latest"><span>v1.5.0 (<wbr/>Latest)</span></a></li></ul></li><li><a href="#md:links"><span>Links</span></a></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:support"><span>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>nestjs-grpc</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
